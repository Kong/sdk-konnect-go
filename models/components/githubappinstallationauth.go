// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"github.com/Kong/sdk-konnect-go/internal/utils"
)

type AppInstallURL struct {
	// The URL where customers are directed to install the GitHub App into their
	// GitHub organization.
	//
	URL string `json:"url"`
}

func (a AppInstallURL) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(a, "", false)
}

func (a *AppInstallURL) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &a, "", false, []string{"url"}); err != nil {
		return err
	}
	return nil
}

func (a *AppInstallURL) GetURL() string {
	if a == nil {
		return ""
	}
	return a.URL
}

type AppManageURL struct {
	// The GitHub App management page URL where users can view, configure, or uninstall the app after installation.
	URL string `json:"url"`
}

func (a AppManageURL) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(a, "", false)
}

func (a *AppManageURL) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &a, "", false, []string{"url"}); err != nil {
		return err
	}
	return nil
}

func (a *AppManageURL) GetURL() string {
	if a == nil {
		return ""
	}
	return a.URL
}

type AuthorizeAppInstallationEndpoint struct {
	// The endpoint used to link a completed GitHub App installation with a customer account in the catalog.
	// This step finalizes the integration by exchanging metadata from the GitHub installation event.
	//
	URL string `json:"url"`
}

func (a AuthorizeAppInstallationEndpoint) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(a, "", false)
}

func (a *AuthorizeAppInstallationEndpoint) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &a, "", false, []string{"url"}); err != nil {
		return err
	}
	return nil
}

func (a *AuthorizeAppInstallationEndpoint) GetURL() string {
	if a == nil {
		return ""
	}
	return a.URL
}

type PendingAppInstallsEndpoint struct {
	// The endpoint used to return a list of in-progress or unlinked GitHub App installations awaiting user confirmation.
	//
	URL string `json:"url"`
}

func (p PendingAppInstallsEndpoint) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(p, "", false)
}

func (p *PendingAppInstallsEndpoint) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &p, "", false, []string{"url"}); err != nil {
		return err
	}
	return nil
}

func (p *PendingAppInstallsEndpoint) GetURL() string {
	if p == nil {
		return ""
	}
	return p.URL
}

type GitHubAppInstallationAuthConfig struct {
	AppInstallURL                    AppInstallURL                    `json:"app_install_url"`
	AppManageURL                     AppManageURL                     `json:"app_manage_url"`
	AuthorizeAppInstallationEndpoint AuthorizeAppInstallationEndpoint `json:"authorize_app_installation_endpoint"`
	PendingAppInstallsEndpoint       PendingAppInstallsEndpoint       `json:"pending_app_installs_endpoint"`
}

func (g GitHubAppInstallationAuthConfig) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GitHubAppInstallationAuthConfig) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, []string{"app_install_url", "app_manage_url", "authorize_app_installation_endpoint", "pending_app_installs_endpoint"}); err != nil {
		return err
	}
	return nil
}

func (g *GitHubAppInstallationAuthConfig) GetAppInstallURL() AppInstallURL {
	if g == nil {
		return AppInstallURL{}
	}
	return g.AppInstallURL
}

func (g *GitHubAppInstallationAuthConfig) GetAppManageURL() AppManageURL {
	if g == nil {
		return AppManageURL{}
	}
	return g.AppManageURL
}

func (g *GitHubAppInstallationAuthConfig) GetAuthorizeAppInstallationEndpoint() AuthorizeAppInstallationEndpoint {
	if g == nil {
		return AuthorizeAppInstallationEndpoint{}
	}
	return g.AuthorizeAppInstallationEndpoint
}

func (g *GitHubAppInstallationAuthConfig) GetPendingAppInstallsEndpoint() PendingAppInstallsEndpoint {
	if g == nil {
		return PendingAppInstallsEndpoint{}
	}
	return g.PendingAppInstallsEndpoint
}

// GitHubAppInstallationAuth - Defines the GitHub App authorization strategy used by the GitHub integration.
// This strategy enables secure access to GitHub APIs using app installation tokens.
// It supports both API-based interactions and real-time event delivery via GitHub webhooks.
// Unlike standard OAuth flows, this strategy leverages GitHub's custom app installation flow
// and token lifecycle, making it ideal for deep, organization-level GitHub integration.
type GitHubAppInstallationAuth struct {
	type_  string                          `const:"github_app_installation" json:"type"`
	Config GitHubAppInstallationAuthConfig `json:"config"`
}

func (g GitHubAppInstallationAuth) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(g, "", false)
}

func (g *GitHubAppInstallationAuth) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &g, "", false, []string{"type", "config"}); err != nil {
		return err
	}
	return nil
}

func (g *GitHubAppInstallationAuth) GetType() string {
	return "github_app_installation"
}

func (g *GitHubAppInstallationAuth) GetConfig() GitHubAppInstallationAuthConfig {
	if g == nil {
		return GitHubAppInstallationAuthConfig{}
	}
	return g.Config
}
