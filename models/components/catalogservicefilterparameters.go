// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"errors"
	"fmt"
	"github.com/Kong/sdk-konnect-go/internal/utils"
)

type CustomFieldsType string

const (
	CustomFieldsTypeStringFieldFilter  CustomFieldsType = "StringFieldFilter"
	CustomFieldsTypeBoolean            CustomFieldsType = "boolean"
	CustomFieldsTypeNumericFieldFilter CustomFieldsType = "NumericFieldFilter"
)

// CustomFields - Filter by custom fields using dot-notation to specify the custom field.
// Filter operators are dictated by the custom field type. For example:
//
//   - `filter[custom_fields.owner]`
//   - `filter[custom_fields.owner][neq]=kong`
//   - `filter[custom_fields.dashboard.link][contains]=https`
type CustomFields struct {
	StringFieldFilter  *StringFieldFilter  `queryParam:"inline,name=custom_fields"`
	Boolean            *bool               `queryParam:"inline,name=custom_fields"`
	NumericFieldFilter *NumericFieldFilter `queryParam:"inline,name=custom_fields"`

	Type CustomFieldsType
}

func CreateCustomFieldsStringFieldFilter(stringFieldFilter StringFieldFilter) CustomFields {
	typ := CustomFieldsTypeStringFieldFilter

	return CustomFields{
		StringFieldFilter: &stringFieldFilter,
		Type:              typ,
	}
}

func CreateCustomFieldsBoolean(boolean bool) CustomFields {
	typ := CustomFieldsTypeBoolean

	return CustomFields{
		Boolean: &boolean,
		Type:    typ,
	}
}

func CreateCustomFieldsNumericFieldFilter(numericFieldFilter NumericFieldFilter) CustomFields {
	typ := CustomFieldsTypeNumericFieldFilter

	return CustomFields{
		NumericFieldFilter: &numericFieldFilter,
		Type:               typ,
	}
}

func (u *CustomFields) UnmarshalJSON(data []byte) error {

	var stringFieldFilter StringFieldFilter = StringFieldFilter{}
	if err := utils.UnmarshalJSON(data, &stringFieldFilter, "", true, nil); err == nil {
		u.StringFieldFilter = &stringFieldFilter
		u.Type = CustomFieldsTypeStringFieldFilter
		return nil
	}

	var boolean bool = false
	if err := utils.UnmarshalJSON(data, &boolean, "", true, nil); err == nil {
		u.Boolean = &boolean
		u.Type = CustomFieldsTypeBoolean
		return nil
	}

	var numericFieldFilter NumericFieldFilter = NumericFieldFilter{}
	if err := utils.UnmarshalJSON(data, &numericFieldFilter, "", true, nil); err == nil {
		u.NumericFieldFilter = &numericFieldFilter
		u.Type = CustomFieldsTypeNumericFieldFilter
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for CustomFields", string(data))
}

func (u CustomFields) MarshalJSON() ([]byte, error) {
	if u.StringFieldFilter != nil {
		return utils.MarshalJSON(u.StringFieldFilter, "", true)
	}

	if u.Boolean != nil {
		return utils.MarshalJSON(u.Boolean, "", true)
	}

	if u.NumericFieldFilter != nil {
		return utils.MarshalJSON(u.NumericFieldFilter, "", true)
	}

	return nil, errors.New("could not marshal union type CustomFields: all fields are null")
}

type CatalogServiceFilterParameters struct {
	// Filter using **one** of the following operators: `eq`, `oeq`, `neq`
	ID *UUIDFieldFilter `queryParam:"name=id"`
	// Filter using **one** of the following operators: `eq`, `oeq`, `neq`, `contains`, `ocontains`
	Name *StringFieldFilter `queryParam:"name=name"`
	// Filter using **one** of the following operators: `eq`, `oeq`, `neq`, `contains`, `ocontains`
	DisplayName *StringFieldFilter `queryParam:"name=display_name"`
	// Filter by custom fields using dot-notation to specify the custom field.
	// Filter operators are dictated by the custom field type. For example:
	//
	//
	//
	//
	//
	//   - `filter[custom_fields.owner]`
	//   - `filter[custom_fields.owner][neq]=kong`
	//   - `filter[custom_fields.dashboard.link][contains]=https`
	//
	CustomFields *CustomFields      `queryParam:"name=custom_fields"`
	Labels       *LabelsFieldFilter `queryParam:"name=labels"`
	// Filters on the given datetime (RFC-3339) field value.
	CreatedAt *DateTimeFieldFilter `queryParam:"name=created_at"`
	// Filters on the given datetime (RFC-3339) field value.
	UpdatedAt *DateTimeFieldFilter `queryParam:"name=updated_at"`
}

func (c *CatalogServiceFilterParameters) GetID() *UUIDFieldFilter {
	if c == nil {
		return nil
	}
	return c.ID
}

func (c *CatalogServiceFilterParameters) GetName() *StringFieldFilter {
	if c == nil {
		return nil
	}
	return c.Name
}

func (c *CatalogServiceFilterParameters) GetDisplayName() *StringFieldFilter {
	if c == nil {
		return nil
	}
	return c.DisplayName
}

func (c *CatalogServiceFilterParameters) GetCustomFields() *CustomFields {
	if c == nil {
		return nil
	}
	return c.CustomFields
}

func (c *CatalogServiceFilterParameters) GetLabels() *LabelsFieldFilter {
	if c == nil {
		return nil
	}
	return c.Labels
}

func (c *CatalogServiceFilterParameters) GetCreatedAt() *DateTimeFieldFilter {
	if c == nil {
		return nil
	}
	return c.CreatedAt
}

func (c *CatalogServiceFilterParameters) GetUpdatedAt() *DateTimeFieldFilter {
	if c == nil {
		return nil
	}
	return c.UpdatedAt
}
