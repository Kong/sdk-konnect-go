# ForwardToClusterByPortMappingConfig

The configuration to forward request to `destination` and rewrite ports accordingly.
All broker ids must fit in the range of ports defined in the listener, if it doesn't the metadata request will
return an error.

For example with ports: [9000, "9092-9094", "9100"] and `bootstrap_port: at_start` and brokers with ids
1, 2, 3, 4 we will map: bootstrap to 9000 broker 1 to 9001, broker 2 to 9002, broker 3 to 9003, and broker 4
to 9004 and fail the metadata request as these ports are not open.

However, with the same configuration but with brokers with ids: 92,93,94,100 we will map: bootstrap to 9000,
broker 92 to 9092, broker 93 to 9093, broker 94 to 9094, and broker 100 to 9100.

In most cases users should use a single range `["9090-9094"] ` and `bootstrap_port: at_start` and connect with
`<host>:9090` as bootstrap server. Being able to use multiple ranges is only useful when when dealing with
gaps in broker ids.

It is strongly discouraged to use port mapping in production.



## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Type`                                                                                                                                                                                                                                                                                                                                                                                                                                                     | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                         | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `Destination`                                                                                                                                                                                                                                                                                                                                                                                                                                              | [components.VirtualClusterReference](../../models/components/virtualclusterreference.md)                                                                                                                                                                                                                                                                                                                                                                   | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                         | A reference to a virtual cluster.                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `AdvertisedHost`                                                                                                                                                                                                                                                                                                                                                                                                                                           | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                         | Virtual brokers are advertised to clients using this host. Any kind of host supported by kafka can be used. If not defined, it's listen_address. If listen_address is `0.0.0.0` it's the destination IP of the TCP connection.                                                                                                                                                                                                                             |
| `BootstrapPort`                                                                                                                                                                                                                                                                                                                                                                                                                                            | [*components.BootstrapPort](../../models/components/bootstrapport.md)                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                         | If set to `at_start`, the first port will be used as a bootstrap port.<br/>It provides a stable endpoint to use as the bootstrap server for clients, regardless of broker<br/>IDs in the cluster.<br/><br/>Additionally, it offsets all ports by one, so for example, if there are 3 brokers (id=1, id=2, id=3)<br/>then we will use 4 ports: 9092 (bootstrap), 9093 (id=1), 9094 (id=2), 9095 (id=3)<br/>With `none` we will use 3 ports: 9092 (id=1), 9093 (id=2), 9094 (id=3).<br/> |
| `MinBrokerID`                                                                                                                                                                                                                                                                                                                                                                                                                                              | **int64*                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                         | The lowest broker node ID in the cluster.                                                                                                                                                                                                                                                                                                                                                                                                                  |