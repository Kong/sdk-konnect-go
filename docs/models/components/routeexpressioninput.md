# RouteExpressionInput

Route entities define rules to match client requests. Each Route is associated with a Service, and a Service may have multiple Routes associated to it. Every request matching a given Route will be proxied to its associated Service. The combination of Routes and Services (and the separation of concerns between them) offers a powerful routing mechanism with which it is possible to define fine-grained entry-points in Kong leading to different upstream services of your infrastructure. You need at least one matching rule that applies to the protocol being matched by the Route.


## Fields

| Field                                                                                                                                                                                                                                                                                                                                           | Type                                                                                                                                                                                                                                                                                                                                            | Required                                                                                                                                                                                                                                                                                                                                        | Description                                                                                                                                                                                                                                                                                                                                     |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Expression`                                                                                                                                                                                                                                                                                                                                    | **string*                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | Use Router Expression to perform route match. This option is only available when `router_flavor` is set to `expressions`.                                                                                                                                                                                                                       |
| `HTTPSRedirectStatusCode`                                                                                                                                                                                                                                                                                                                       | [*components.RouteExpressionHTTPSRedirectStatusCode](../../models/components/routeexpressionhttpsredirectstatuscode.md)                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | The status code Kong responds with when all properties of a Route match except the protocol i.e. if the protocol of the request is `HTTP` instead of `HTTPS`. `Location` header is injected by Kong if the field is set to 301, 302, 307 or 308. Note: This config applies only if the Route is configured to only accept the `https` protocol. |
| `ID`                                                                                                                                                                                                                                                                                                                                            | **string*                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                             |
| `Name`                                                                                                                                                                                                                                                                                                                                          | **string*                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | The name of the Route. Route names must be unique, and they are case sensitive. For example, there can be two different Routes named "test" and "Test".                                                                                                                                                                                         |
| `PathHandling`                                                                                                                                                                                                                                                                                                                                  | [*components.RouteExpressionPathHandling](../../models/components/routeexpressionpathhandling.md)                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | Controls how the Service path, Route path and requested path are combined when sending a request to the upstream. See above for a detailed description of each behavior.                                                                                                                                                                        |
| `PreserveHost`                                                                                                                                                                                                                                                                                                                                  | **bool*                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | When matching a Route via one of the `hosts` domain names, use the request `Host` header in the upstream request headers. If set to `false`, the upstream `Host` header will be that of the Service's `host`.                                                                                                                                   |
| `Priority`                                                                                                                                                                                                                                                                                                                                      | **int64*                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                             |
| `Protocols`                                                                                                                                                                                                                                                                                                                                     | [][components.RouteExpressionProtocols](../../models/components/routeexpressionprotocols.md)                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | An array of the protocols this Route should allow. See the [Route Object](#route-object) section for a list of accepted protocols. When set to only `"https"`, HTTP requests are answered with an upgrade error. When set to only `"http"`, HTTPS requests are answered with an error.                                                          |
| `RequestBuffering`                                                                                                                                                                                                                                                                                                                              | **bool*                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | Whether to enable request body buffering or not. With HTTP 1.1, it may make sense to turn this off on services that receive data with chunked transfer encoding.                                                                                                                                                                                |
| `ResponseBuffering`                                                                                                                                                                                                                                                                                                                             | **bool*                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | Whether to enable response body buffering or not. With HTTP 1.1, it may make sense to turn this off on services that send data with chunked transfer encoding.                                                                                                                                                                                  |
| `Service`                                                                                                                                                                                                                                                                                                                                       | [*components.RouteExpressionService](../../models/components/routeexpressionservice.md)                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | The Service this Route is associated to. This is where the Route proxies traffic to.                                                                                                                                                                                                                                                            |
| `StripPath`                                                                                                                                                                                                                                                                                                                                     | **bool*                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | When matching a Route via one of the `paths`, strip the matching prefix from the upstream request URL.                                                                                                                                                                                                                                          |
| `Tags`                                                                                                                                                                                                                                                                                                                                          | []*string*                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                              | An optional set of strings associated with the Route for grouping and filtering.                                                                                                                                                                                                                                                                |